@import "tailwindcss";

:root {
  --background: #f3eee3;
  --foreground: #2f2a22;
  --paper-base: #fffdf8;
  --paper-muted: #f8f1e4;
  --paper-subtle: #f5ecdb;
  --border-soft: #ddd2bf;
  --border-medium: #cfc1a8;
  --text-main: #2f2a22;
  --text-secondary: #5f5547;
  --text-muted: #8a7a64;
  --accent: #3f7a68;
  --accent-strong: #2f6656;
  --accent-soft: #dbeae4;
  --danger: #a64e4e;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background:
    radial-gradient(85rem 50rem at 5% -8%, rgba(198, 176, 136, 0.16), transparent 60%),
    radial-gradient(75rem 45rem at 100% -10%, rgba(160, 184, 171, 0.18), transparent 62%),
    var(--background);
  color: var(--foreground);
  font-family: var(--font-geist-sans), "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Noto Sans CJK SC", sans-serif;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  letter-spacing: 0.01em;
  line-height: 1.68;
}

.dashboard-shell {
  background:
    radial-gradient(68rem 40rem at 4% -8%, rgba(198, 176, 136, 0.18), transparent 58%),
    radial-gradient(60rem 36rem at 100% -12%, rgba(163, 183, 173, 0.14), transparent 62%),
    linear-gradient(180deg, #f8f3ea 0%, #f2ebde 100%);
}

.dashboard-panel {
  background: linear-gradient(155deg, rgba(255, 254, 250, 0.97) 0%, rgba(249, 242, 229, 0.96) 100%);
  border: 1px solid var(--border-soft);
  box-shadow: 0 16px 36px -26px rgba(87, 71, 45, 0.4);
}

.dashboard-reading {
  font-size: 1.04rem;
  line-height: 1.94;
  letter-spacing: 0.01em;
  color: var(--text-main);
}

.markdown-body {
  color: var(--text-main);
  font-size: 1.03rem;
  line-height: 1.92;
  letter-spacing: 0.01em;
  word-break: break-word;
  overflow-wrap: anywhere;
}

.markdown-body h1 {
  margin: 1.8rem 0 1rem;
  color: var(--accent-strong);
  font-weight: 700;
  font-size: clamp(1.6rem, 1.15rem + 1.3vw, 2.1rem);
  line-height: 1.26;
  letter-spacing: 0.01em;
}

.markdown-body h2 {
  margin: 1.5rem 0 0.9rem;
  color: var(--accent-strong);
  font-weight: 700;
  font-size: clamp(1.26rem, 0.95rem + 0.85vw, 1.65rem);
  line-height: 1.34;
}

.markdown-body h3 {
  margin: 1.2rem 0 0.75rem;
  color: #3a6d5c;
  font-weight: 600;
  font-size: clamp(1.06rem, 0.9rem + 0.52vw, 1.24rem);
  line-height: 1.42;
}

.markdown-body h4 {
  margin: 1rem 0 0.6rem;
  color: #3a6d5c;
  font-size: 1rem;
  font-weight: 600;
  line-height: 1.5;
}

.markdown-body p {
  margin-bottom: 0.92rem;
  color: var(--text-main);
}

.markdown-body ul {
  margin: 0 0 1rem;
  padding-left: 1.6rem;
  list-style: disc;
}

.markdown-body ol {
  margin: 0 0 1rem;
  padding-left: 1.6rem;
  list-style: decimal;
}

.markdown-body li {
  margin-bottom: 0.56rem;
  color: var(--text-main);
  line-height: 1.84;
}

.markdown-body li::marker {
  color: var(--accent);
}

.markdown-body a {
  color: #2f6656;
  text-underline-offset: 3px;
  text-decoration-thickness: 1.2px;
}

.markdown-body a:hover {
  color: #255648;
  text-decoration: underline;
}

.markdown-body strong {
  color: #234f41;
  font-weight: 600;
}

.markdown-body blockquote {
  margin: 1.2rem 0;
  border-left: 4px solid #8db6a7;
  padding: 0.3rem 0 0.3rem 1rem;
  color: var(--text-secondary);
  background: linear-gradient(90deg, rgba(219, 234, 228, 0.85), rgba(219, 234, 228, 0));
}

.markdown-body pre {
  margin: 1.2rem 0;
  border-radius: 0.9rem;
  border: 1px solid #d7cbb7;
  background: #f6efe2;
  padding: 0.95rem 1rem;
  overflow-x: auto;
  white-space: pre-wrap;
  word-break: break-word;
  line-height: 1.72;
}

.markdown-body code {
  border: 1px solid #e0d4c0;
  border-radius: 0.42rem;
  background: #f8f0e1;
  padding: 0.08rem 0.35rem;
  color: #684f2d;
  font-size: 0.95em;
}

.markdown-body pre code {
  border: 0;
  background: transparent;
  padding: 0;
  color: #5f4b34;
}

.markdown-body table {
  margin: 1.2rem 0;
  width: 100%;
  border-collapse: collapse;
  border-radius: 0.7rem;
  overflow: hidden;
}

.markdown-body th,
.markdown-body td {
  border: 1px solid #d8ccb8;
  padding: 0.65rem 0.72rem;
  vertical-align: top;
}

.markdown-body th {
  background: #f6eee0;
  color: var(--text-main);
}

.streaming-content {
  display: block;
  min-height: 220px;
  max-height: min(74vh, 940px);
  overflow-x: hidden;
  overflow-y: auto;
  padding-right: 8px;
  scroll-behavior: smooth;
  scrollbar-gutter: stable;
  overscroll-behavior: contain;
  touch-action: pan-y;
  -webkit-overflow-scrolling: touch;
  font-size: 1.01rem;
  line-height: 1.86;
  letter-spacing: 0.01em;
}

.streaming-content::-webkit-scrollbar {
  width: 8px;
}

.streaming-content::-webkit-scrollbar-track {
  background: rgba(191, 173, 140, 0.2);
  border-radius: 999px;
}

.streaming-content::-webkit-scrollbar-thumb {
  background: rgba(126, 158, 144, 0.58);
  border-radius: 999px;
}

.streaming-content::-webkit-scrollbar-thumb:hover {
  background: rgba(93, 129, 114, 0.68);
}

.streaming-content p,
.streaming-content li {
  margin-bottom: 0.88rem;
}

.streaming-plain {
  margin: 0;
  color: var(--text-main);
  font-size: 1.01rem;
  line-height: 1.86;
  letter-spacing: 0.01em;
  white-space: pre-wrap;
  word-break: break-word;
  overflow-wrap: anywhere;
  font-family: var(--font-geist-sans), "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Noto Sans CJK SC", sans-serif;
}

.qa-markdown {
  font-size: 0.91rem;
  line-height: 1.64;
  color: var(--text-main);
}

.qa-markdown p {
  margin: 0;
}

.qa-markdown p + p {
  margin-top: 0.46rem;
}

.qa-markdown ul,
.qa-markdown ol {
  margin: 0.42rem 0 0 1rem;
}

.qa-markdown li {
  margin-bottom: 0.16rem;
}

.qa-markdown a {
  color: #2f6656;
}

@media (max-width: 640px) {
  .dashboard-reading {
    font-size: 0.98rem;
    line-height: 1.82;
    letter-spacing: 0.01em;
  }

  .markdown-body {
    font-size: 0.97rem;
    line-height: 1.8;
  }

  .markdown-body h1 {
    font-size: 1.42rem;
    line-height: 1.3;
  }

  .markdown-body h2 {
    font-size: 1.21rem;
    line-height: 1.35;
  }

  .markdown-body h3 {
    font-size: 1.05rem;
    line-height: 1.42;
  }

  .streaming-content {
    min-height: 160px;
    max-height: min(67vh, 700px);
    font-size: 0.95rem;
    line-height: 1.72;
    padding-right: 4px;
  }

  .streaming-plain {
    font-size: 0.95rem;
    line-height: 1.72;
  }
}
